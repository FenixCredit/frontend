<section id="credit">
  <header>
    <h3>Créditos</h3>

    <input type="date" class="input__icon-right--datepicker">
    <img src="/assets/icons/full-arrow/disabled.svg" alt="to">
    <input type="date" class="input__icon-right--datepicker">

    <div id="divider"></div>

    <button type="button" class="button__large-fill--primary with-icon-left--plus-white" (click)="addWindowOpened=!addWindowOpened">Nuevo</button>
  </header>
  <main>
    <section class="action-bar">
      <section id="total" class="active">
        <p class="h6">20</p>
        <p class="c1">Total</p>
      </section>

      <section id="controls">
        <p class="p2"
          [hidden]="selectedCredits.length == 0">
          {{selectedCredits.length}} seleccionados
        </p>

        <input type="text" class="input__icon-right--search" placeholder="Buscar">

        <button type="button" class="button__large-outline--primary" (click)="filterWindowOpened=!filterWindowOpened">Filtros</button>

        <div class="dropdown" id="actions" #dropdown>
          <button type="button" (click)="toggleDropdown($event)">Acciones</button>

          <div class="options">
            <button type="button" id="products" (click)="openProductsModal(dropdown)">Añadir producto</button>
            <button type="button" id="status" (click)="openStatusModal(dropdown)">Cambiar status</button>
            <button type="button" id="status" (click)="openPaymentsModal(dropdown)">Agregar pago</button>
          </div>
        </div>
      </section>
    </section>

    <app-credits-table
      (selectedCredits)="updateSelectedCredits($event)"
      (showCredit)="openDetailWindow($event)"
    ></app-credits-table>

    <footer class="pagination">
      <span class="p2 hint">Pagina 1 de 3</span>
      <div class="white-space"></div>
      <button class="button__medium-outline--primary">
        anterior
      </button>
      <button class="button__medium-outline--primary">
        siguiente
      </button>
    </footer>
  </main>

  <aside [hidden]="!addWindowOpened">
    <app-credits-add
      (closeWindow)="closeAddWindow()"
    ></app-credits-add>
  </aside>

  <div class="modal" [hidden]="!statusModalOpened">
    <div class="wrapper" id="statusModal">
      <app-credits-status
        [selectedCredits]="selectedCredits"
        (closeModal)="closeStatusModal()"
      ></app-credits-status>
    </div>
  </div>

  <div class="modal" [hidden]="!productsModalOpened">
    <div class="wrapper" id="productsModal">
      <app-credits-products
        [selectedCredit]="selectedCredits[0]"
        (closeModal)="closeProductsModal()"
      ></app-credits-products>
    </div>
  </div>

  <aside [hidden]="!detailWindowOpened">
    <app-credits-detail
      [loanToShow]="loanToShow"
      (closeWindow)="closeDetailWindow()"
    ></app-credits-detail>
  </aside>

  <div class="modal" [hidden]="!paymentsModalOpened">
    <div class="wrapper" id="paymentsModal">
      <app-credits-payment
        [selectedCredit]="selectedCredits[0]"
        (closeModal)="closePaymentsModal()"
      ></app-credits-payment>
    </div>
  </div>
</section>
